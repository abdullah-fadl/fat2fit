# نظام الصلاحيات - Fat2Fit

## الأدوار المتاحة

### 1. مديرة (ADMIN)
**الوصف:** لها جميع الصلاحيات في النظام
**الصلاحيات:**
- ✅ جميع الصلاحيات بدون قيود
- ✅ إدارة الموظفات والمدربات
- ✅ إنشاء وتعديل الباقات
- ✅ إدارة الكوبونات
- ✅ جميع التقارير

---

### 2. موظفة استقبال (RECEPTION)
**الوصف:** موظفة الاستقبال المسؤولة عن تسجيل العميلات والاشتراكات
**الصلاحيات:**
- ✅ عرض العميلات
- ✅ إنشاء عميلات جديدة
- ✅ تعديل بيانات العميلات
- ✅ عرض الاشتراكات
- ✅ إنشاء اشتراكات جديدة
- ✅ تجديد الاشتراكات
- ✅ تجميد الاشتراكات
- ✅ عرض الباقات
- ✅ عرض الكوبونات
- ✅ عرض الفواتير
- ✅ إنشاء فواتير
- ✅ تسجيل مدفوعات
- ✅ تسجيل دخول العميلات
- ✅ عرض الحجوزات
- ✅ إنشاء حجوزات
- ✅ تعديل الحجوزات
- ✅ عرض التقارير

**القيود:**
- ❌ لا يمكنها حذف العميلات
- ❌ لا يمكنها إدارة الموظفات
- ❌ لا يمكنها إنشاء/تعديل/حذف الباقات
- ❌ لا يمكنها إدارة الكوبونات
- ❌ لا يمكنها تصدير التقارير

---

### 3. مدربة (TRAINER)
**الوصف:** المدربة المسؤولة عن الحصص والتقييم الصحي
**الصلاحيات:**
- ✅ عرض العميلات
- ✅ عرض الحجوزات
- ✅ تعديل الحجوزات
- ✅ إدارة الحصص
- ✅ عرض التقييم الصحي
- ✅ إنشاء تقييمات صحية
- ✅ تعديل التقييمات الصحية

**القيود:**
- ❌ لا يمكنها إنشاء/تعديل/حذف العميلات
- ❌ لا يمكنها إنشاء/تعديل الاشتراكات
- ❌ لا يمكنها الوصول للباقات
- ❌ لا يمكنها الوصول للكوبونات
- ❌ لا يمكنها الوصول للفواتير والمدفوعات
- ❌ لا يمكنها تسجيل الدخول
- ❌ لا يمكنها الوصول للتقارير
- ❌ لا يمكنها إدارة الموظفات

---

## الصلاحيات التفصيلية

### إدارة العميلات
- `clients.view` - عرض العميلات (ADMIN, RECEPTION, TRAINER)
- `clients.create` - إنشاء عميلات (ADMIN, RECEPTION)
- `clients.edit` - تعديل العميلات (ADMIN, RECEPTION)
- `clients.delete` - حذف العميلات (ADMIN فقط)

### إدارة الاشتراكات
- `subscriptions.view` - عرض الاشتراكات (ADMIN, RECEPTION)
- `subscriptions.create` - إنشاء اشتراكات (ADMIN, RECEPTION)
- `subscriptions.renew` - تجديد الاشتراكات (ADMIN, RECEPTION)
- `subscriptions.freeze` - تجميد الاشتراكات (ADMIN, RECEPTION)
- `subscriptions.cancel` - إلغاء الاشتراكات (ADMIN فقط)

### الباقات
- `packages.view` - عرض الباقات (ADMIN, RECEPTION)
- `packages.create` - إنشاء باقات (ADMIN فقط)
- `packages.edit` - تعديل الباقات (ADMIN فقط)
- `packages.delete` - حذف الباقات (ADMIN فقط)

### الكوبونات
- `coupons.view` - عرض الكوبونات (ADMIN, RECEPTION)
- `coupons.create` - إنشاء كوبونات (ADMIN فقط)
- `coupons.edit` - تعديل الكوبونات (ADMIN فقط)
- `coupons.delete` - حذف الكوبونات (ADMIN فقط)

### الفواتير والمدفوعات
- `invoices.view` - عرض الفواتير (ADMIN, RECEPTION)
- `invoices.create` - إنشاء فواتير (ADMIN, RECEPTION)
- `invoices.edit` - تعديل الفواتير (ADMIN فقط)
- `payments.create` - تسجيل مدفوعات (ADMIN, RECEPTION)

### تسجيل الدخول
- `checkin.access` - تسجيل دخول العميلات (ADMIN, RECEPTION)

### الموظفات
- `staff.view` - عرض الموظفات (ADMIN فقط)
- `staff.create` - إنشاء موظفات (ADMIN فقط)
- `staff.edit` - تعديل الموظفات (ADMIN فقط)
- `staff.delete` - حذف الموظفات (ADMIN فقط)

### الحجوزات
- `bookings.view` - عرض الحجوزات (ADMIN, RECEPTION, TRAINER)
- `bookings.create` - إنشاء حجوزات (ADMIN, RECEPTION)
- `bookings.edit` - تعديل الحجوزات (ADMIN, RECEPTION, TRAINER)
- `bookings.delete` - حذف الحجوزات (ADMIN فقط)
- `classes.manage` - إدارة الحصص (ADMIN, TRAINER)

### التقييم الصحي
- `health.view` - عرض التقييم الصحي (ADMIN, TRAINER)
- `health.create` - إنشاء تقييمات (ADMIN, TRAINER)
- `health.edit` - تعديل التقييمات (ADMIN, TRAINER)

### التقارير
- `reports.view` - عرض التقارير (ADMIN, RECEPTION)
- `reports.export` - تصدير التقارير (ADMIN فقط)

---

## ملاحظات

1. **التحقق من الصلاحيات:** يتم التحقق من الصلاحيات في:
   - Middleware (للصفحات)
   - API Routes (للوظائف)
   - UI Components (لإخفاء/إظهار الأزرار)

2. **الأمان:** جميع API endpoints محمية بالصلاحيات

3. **مرونة النظام:** يمكن إضافة أدوار جديدة بسهولة في ملف `lib/permissions.ts`








