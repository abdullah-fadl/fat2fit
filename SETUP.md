# دليل الإعداد والتشغيل

## الخطوات الأولية

### 1. تثبيت المكتبات
```bash
npm install
```

### 2. إعداد قاعدة البيانات
```bash
# توليد Prisma Client
npm run db:generate

# تطبيق المخططات على قاعدة البيانات
npm run db:migrate
```

### 3. تهيئة البيانات الافتراضية
```bash
npm run seed
```

سيتم إنشاء:
- **مستخدم مدير**: 
  - البريد: `admin@fat2fit.com`
  - كلمة المرور: `admin123`
  
- **موظفة استقبال**: 
  - البريد: `reception@fat2fit.com`
  - كلمة المرور: `reception123`

- **باقات اشتراك افتراضية**:
  - شهري (500 ريال)
  - ربع سنوي (1350 ريال)
  - سنوي (5000 ريال)
  - VIP شهري (1000 ريال)
  - باقة 10 زيارات (400 ريال)

### 4. تشغيل المشروع
```bash
npm run dev
```

افتح المتصفح على: **http://localhost:3000**

## استخدام النظام

### تسجيل الدخول
1. استخدم أحد حسابات المستخدمين المنشأة أعلاه
2. بعد تسجيل الدخول ستنتقل إلى لوحة الاستقبال

### تسجيل عميلة جديدة
1. من لوحة الاستقبال، اضغط على "تسجيل عميلة جديدة"
2. املأ البيانات الأساسية (الاسم ورقم الجوال إلزاميين)
3. يمكنك إضافة بيانات إضافية مثل الطول، الوزن، الحالة الصحية
4. سيتم إنشاء رقم عضوية تلقائياً

### إنشاء اشتراك
1. من لوحة الاستقبال أو صفحة العميلات
2. اضغط على "اشتراك جديد"
3. اختر العميلة والباقة
4. حدد تاريخ البداية (افتراضي: اليوم)
5. يمكنك إضافة خصم (نسبة أو مبلغ)
6. سيتم حساب تاريخ الانتهاء تلقائياً بناءً على مدة الباقة

### تسجيل دخول عميلة
1. اذهب إلى "تسجيل الدخول"
2. ابحث بالاسم، رقم الجوال، أو رقم العضوية
3. اضغط على "تسجيل الدخول"
4. سيتم رفض الدخول تلقائياً إذا كان الاشتراك منتهياً

### إنشاء فاتورة ودفعة
- عند إنشاء اشتراك، يمكنك إنشاء فاتورة ودفعة في نفس الوقت
- الفواتير يمكن تتبعها من صفحة "الفواتير"
- يمكن الدفع الجزئي ومتابعة المديونيات

## الميزات الرئيسية

✅ نظام تسجيل العميلات الكامل
✅ إدارة الاشتراكات (بيع، تجديد، تجميد)
✅ نظام الدفع والفواتير
✅ تسجيل الدخول والحضور
✅ التقارير والإحصائيات
✅ البحث السريع
✅ نظام الصلاحيات
✅ سجل تدقيق (Audit Log)

## ملاحظات مهمة

1. **الأمان**: في بيئة الإنتاج، قم بتغيير `NEXTAUTH_SECRET` في ملف `.env`
2. **قاعدة البيانات**: النظام يستخدم SQLite للتطوير. للإنتاج، يُفضل استخدام PostgreSQL
3. **الصور**: نظام رفع الصور للعميلات لم يتم تنفيذه بعد
4. **الرسائل**: نظام إرسال SMS/واتساب لم يتم تنفيذه بعد

## استكشاف الأخطاء

### مشكلة في Prisma
```bash
# احذف node_modules و .next
rm -rf node_modules .next
npm install
npm run db:generate
```

### مشكلة في قاعدة البيانات
```bash
# إعادة إنشاء قاعدة البيانات
rm prisma/dev.db
npm run db:migrate
npm run seed
```

## الدعم

للأسئلة أو المشاكل، راجع ملف README.md













